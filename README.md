The RDPSCANNER is a Bash script designed to automate the process of scanning IP ranges specified in CIDR notation. The script utilizes the nmap tool to scan for open ports (specifically port 3389 in this case) across multiple CIDR ranges.
It includes functionality to log results, handle errors, and display real-time progress and results directly in the terminal. This script is particularly useful for network administrators and security professionals who need to identify
systems with specific open ports within large IP ranges.

Root Privileges Verification:

The script checks if it is being run with root privileges. Since nmap requires elevated permissions to perform certain scans, the script exits with a message if it is not run as root, prompting the user to rerun the script with sudo.

Path Verification:

Ensures that /usr/bin is in the systemâ€™s PATH environment variable to avoid issues when executing commands like nmap from within the script.

Signal Handling and Cleanup:

The script sets up a signal handler to manage interruptions (like pressing Ctrl+C). If the script is terminated prematurely, it performs cleanup operations, such as killing any background processes it started and ensuring that
logs and outputs are saved correctly.

Interactive Directory and File Selection:

The script prompts the user to enter the directory paths for:
The directory containing CIDR files.
The directory where the output and log files will be saved.
It then validates these directories to ensure they exist.
The user is presented with a list of available .cidr files within the specified directory, displayed in a grid format. The user can select the desired CIDR file by entering the corresponding number.

Nmap Execution and Error Handling:

The script runs nmap to scan each IP block for open ports (specifically port 3389).
It captures both the output and any errors generated by nmap, logging them to a log file.
If nmap finds open ports, the corresponding IPs are extracted and displayed in the terminal in real-time, as well as saved to an output file (hit.txt).

Output and Logging:

The results of the scan, including any open IPs found, are saved to an output file (hit.txt).
Detailed logs of the scan process, including errors and progress, are saved to a log file (scan.log).

Completion Notification:

After the script finishes scanning all the IP blocks in the selected CIDR file, it displays a completion message in the terminal and indicates where the results and logs have been saved.

To use this script, follow these steps:

1. Ensure that you have the necessary permissions to run the script with sudo.
2. Place the script in a directory with your .cidr files or adjust the paths accordingly.
3. Run the script with: sudo ./scan.sh
4. Follow the prompts to select the directories and the CIDR file to be scanned.
5. Monitor the real-time progress and results in the terminal.
6. After the scan completes, review the output file (hit.txt) and log file (scan.log) in the specified directory.
